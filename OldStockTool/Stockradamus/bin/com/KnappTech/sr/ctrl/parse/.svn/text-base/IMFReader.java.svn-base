package com.kt.sr.ctrl.parse;

import java.util.Calendar;

import com.kt.sr.model.constants.SourceAgency;
import com.kt.util.ConnectionCreater;
import com.kt.util.DefaultConnectionCreater;

public class IMFReader extends ERParser {
	private static final String STARTOFURL = "http://www.imf.org/external/pubs/ft/weo/"; // 2009/02
	private static final String MIDURL = "/weodata/weoreptc.aspx?pr.x=25&pr.y=12&sy="; // 1988&ey=2014
	private static final String MIDURL2 = "&scsm=1&ssd=1&sort=country&ds=.&br=1&";
	private static final String ENDOFURL = "c=512%2C941%2C914%2C446%2C612%2C666%2C614%2C668%2C311%2C672%2C213%2C946%2C911%2C137%2C193%2C962%2C122%2C674%2C912%2C676%2C313%2C548%2C419%2C556%2C513%2C678%2C316%2C181%2C913%2C682%2C124%2C684%2C339%2C273%2C638%2C921%2C514%2C948%2C218%2C943%2C963%2C686%2C616%2C688%2C223%2C518%2C516%2C728%2C918%2C558%2C748%2C138%2C618%2C196%2C522%2C278%2C622%2C692%2C156%2C694%2C624%2C142%2C626%2C449%2C628%2C564%2C228%2C283%2C924%2C853%2C233%2C288%2C632%2C293%2C636%2C566%2C634%2C964%2C238%2C182%2C662%2C453%2C960%2C968%2C423%2C922%2C935%2C714%2C128%2C862%2C611%2C716%2C321%2C456%2C243%2C722%2C248%2C942%2C469%2C718%2C253%2C724%2C642%2C576%2C643%2C936%2C939%2C961%2C644%2C813%2C819%2C199%2C172%2C184%2C132%2C524%2C646%2C361%2C648%2C362%2C915%2C364%2C134%2C732%2C652%2C366%2C174%2C734%2C328%2C144%2C258%2C146%2C656%2C463%2C654%2C528%2C336%2C923%2C263%2C738%2C268%2C578%2C532%2C537%2C944%2C742%2C176%2C866%2C534%2C369%2C536%2C744%2C429%2C186%2C433%2C925%2C178%2C746%2C436%2C926%2C136%2C466%2C343%2C112%2C158%2C111%2C439%2C298%2C916%2C927%2C664%2C846%2C826%2C299%2C542%2C582%2C443%2C474%2C917%2C754%2C544%2C698&s=NGDP_R%2CNGDP_RPCH%2CNGDP%2CNGDPD%2CNGDP_D%2CNGDPRPC%2CNGDPPC%2CNGDPDPC%2CNGAP_NPGDP%2CPPPGDP%2CPPPPC%2CPPPSH%2CPPPEX%2CNID_NGDP%2CNGSD_NGDP%2CPCPI%2CPCPIPCH%2CPCPIE%2CPCPIEPCH%2CFLIBOR6%2CLUR%2CLE%2CLP%2CGGB%2CGGB_NGDP%2CGGSB%2CGGSB_NPGDP%2CGGND%2CGGND_NGDP%2CGGD%2CGGD_NGDP%2CBCA%2CBCA_NGDPD&grp=0&a=";
	
	protected String createURL() {
		String startYear = "1988";
		int ey = Calendar.getInstance().get(Calendar.YEAR);
		String presentYear = String.valueOf(ey);
		String endYear = String.valueOf(ey+4);
		
		String str = "";
		str += STARTOFURL;
		str += presentYear+"/";
		str += MIDURL;
		str += startYear+"&ey="+endYear;
		str += MIDURL2;
		str += ENDOFURL;
		return str;
	}
	
	// http://www.imf.org/external/pubs/ft/weo/2009/02/weodata/weoreptc.aspx?
	// pr.x=25&pr.y=12&sy=1988&ey=2014&scsm=1&ssd=1&sort=country&ds=.&br=1&
	// c=512%2C941%2C914%2C446%2C612%2C666%2C614%2C668%2C311%2C672%2C213%2C946%2C911%2C137%2C193%2C962%2C122%2C674%2C912%2C676%2C313%2C548%2C419%2C556%2C513%2C678%2C316%2C181%2C913%2C682%2C124%2C684%2C339%2C273%2C638%2C921%2C514%2C948%2C218%2C943%2C963%2C686%2C616%2C688%2C223%2C518%2C516%2C728%2C918%2C558%2C748%2C138%2C618%2C196%2C522%2C278%2C622%2C692%2C156%2C694%2C624%2C142%2C626%2C449%2C628%2C564%2C228%2C283%2C924%2C853%2C233%2C288%2C632%2C293%2C636%2C566%2C634%2C964%2C238%2C182%2C662%2C453%2C960%2C968%2C423%2C922%2C935%2C714%2C128%2C862%2C611%2C716%2C321%2C456%2C243%2C722%2C248%2C942%2C469%2C718%2C253%2C724%2C642%2C576%2C643%2C936%2C939%2C961%2C644%2C813%2C819%2C199%2C172%2C184%2C132%2C524%2C646%2C361%2C648%2C362%2C915%2C364%2C134%2C732%2C652%2C366%2C174%2C734%2C328%2C144%2C258%2C146%2C656%2C463%2C654%2C528%2C336%2C923%2C263%2C738%2C268%2C578%2C532%2C537%2C944%2C742%2C176%2C866%2C534%2C369%2C536%2C744%2C429%2C186%2C433%2C925%2C178%2C746%2C436%2C926%2C136%2C466%2C343%2C112%2C158%2C111%2C439%2C298%2C916%2C927%2C664%2C846%2C826%2C299%2C542%2C582%2C443%2C474%2C917%2C754%2C544%2C698&s=NGDP_R%2CNGDP_RPCH%2CNGDP%2CNGDPD%2CNGDP_D%2CNGDPRPC%2CNGDPPC%2CNGDPDPC%2CNGAP_NPGDP%2CPPPGDP%2CPPPPC%2CPPPSH%2CPPPEX%2CNID_NGDP%2CNGSD_NGDP%2CPCPI%2CPCPIPCH%2CPCPIE%2CPCPIEPCH%2CFLIBOR6%2CLUR%2CLE%2CLP%2CGGB%2CGGB_NGDP%2CGGSB%2CGGSB_NPGDP%2CGGND%2CGGND_NGDP%2CGGD%2CGGD_NGDP%2CBCA%2CBCA_NGDPD&
	// grp=0&a=

	@Override
	public SourceAgency getSourceAgency() {
		return SourceAgency.IMF;
	}

	@Override
	protected void updateER() {
		// TODO Auto-generated method stub
		
	}

	@Override
	protected boolean isConstantURL() {
		return true;
	}

	@Override
	protected ConnectionCreater getConnectionCreater() {
		String url = createURL();
		return DefaultConnectionCreater.create(url);
	}
}
